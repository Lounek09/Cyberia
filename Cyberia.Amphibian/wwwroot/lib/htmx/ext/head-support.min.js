!function(){var e=null;function t(t,r){if(t&&t.indexOf("<head")>-1){const f=document.createElement("html");var n=t.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"").match(/(<head(\s[^>]*>|>)([\s\S]*?)<\/head>)/im);if(n){var d=[],a=[],o=[],h=[];f.innerHTML=n;var i=f.querySelector("head"),m=document.head;if(null==i)return;var u=new Map;for(const e of i.children)u.set(e.outerHTML,e);var s=e.getAttributeValue(i,"hx-head")||r;for(const t of m.children){var l=u.has(t.outerHTML),c="re-eval"===t.getAttribute("hx-head"),g="true"===e.getAttributeValue(t,"hx-preserve");l||g?c?a.push(t):(u.delete(t.outerHTML),o.push(t)):"append"===s?c&&(a.push(t),h.push(t)):!1!==e.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:t})&&a.push(t)}h.push(...u.values());for(const t of h){var v=document.createRange().createContextualFragment(t.outerHTML);!1!==e.triggerEvent(document.body,"htmx:addingHeadElement",{headElement:v})&&(m.appendChild(v),d.push(v))}for(const t of a)!1!==e.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:t})&&m.removeChild(t);e.triggerEvent(document.body,"htmx:afterHeadMerge",{added:d,kept:o,removed:a})}}}htmx.defineExtension("head-support",{init:function(r){e=r,htmx.on("htmx:afterSwap",(function(r){let n=r.detail.xhr;if(n){var d=n.response;e.triggerEvent(document.body,"htmx:beforeHeadMerge",r.detail)&&t(d,r.detail.boosted?"merge":"append")}})),htmx.on("htmx:historyRestore",(function(r){e.triggerEvent(document.body,"htmx:beforeHeadMerge",r.detail)&&(r.detail.cacheMiss?t(r.detail.serverResponse,"merge"):t(r.detail.item.head,"merge"))})),htmx.on("htmx:historyItemCreated",(function(e){e.detail.item.head=document.head.outerHTML}))}})}();